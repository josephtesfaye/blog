<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.0 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Handling Invalid US-ASCII Character Errors in Jekyll | Orcharinth</title>
<meta name="description" content="When working with Jekyll, a static site generator commonly used for blogs and documentation, you may encounter errors related to character encoding, particularly the “Invalid US-ASCII character” error. This can happen when Jekyll tries to process files that contain characters not supported by the default US-ASCII encoding. Here’s a detailed look at this error and how to resolve it.">


  <meta name="author" content="Joseph Huang">
  
  <meta property="article:author" content="Joseph Huang">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Orcharinth">
<meta property="og:title" content="Handling Invalid US-ASCII Character Errors in Jekyll">
<meta property="og:url" content="https://josephtesfaye.com/blog/emacs/handling-invalid-us-ascii-character-errors-in-jekyll/">


  <meta property="og:description" content="When working with Jekyll, a static site generator commonly used for blogs and documentation, you may encounter errors related to character encoding, particularly the “Invalid US-ASCII character” error. This can happen when Jekyll tries to process files that contain characters not supported by the default US-ASCII encoding. Here’s a detailed look at this error and how to resolve it.">







  <meta property="article:published_time" content="2024-06-17T00:00:00+00:00">



  <meta property="article:modified_time" content="2024-06-17T00:00:00+00:00">




<link rel="canonical" href="https://josephtesfaye.com/blog/emacs/handling-invalid-us-ascii-character-errors-in-jekyll/">












<!-- end _includes/seo.html -->



  <link href="/blog/feed.xml" type="application/atom+xml" rel="alternate" title="Orcharinth Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="text/javascript">
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/blog/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <script data-ad-client="ca-pub-2501730911245634" async
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<!-- Make the post width wider when `author_profile: false` -->

<style>
  /* Only apply these styles if the viewport is at least 80em wide, which is
     equivalent to 1280px (on a standard browser where 1em = 16px). */
  @media (min-width: 80em) {
    .page, .archive, .page__related {
      width: 100%;
    }
  }

  @media (min-width: 64em) {
    .breadcrumbs ol, .page__related {
      float: left;
    }
  }
</style>



<script src="/blog/assets/js/dark_mode_toggle.js"></script>


<script>
  ['mousedown', 'click', 'touchstart'].forEach(function (event) {
    document.addEventListener(event, function (e) {
      if (e.target.closest('.mfp-bottom-bar'))
        e.stopPropagation();
    }, true);
  });
</script>

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/blog/">
          Orcharinth
          <span class="site-subtitle">Code. Culture. Cultivation.</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
            <a href="/blog/year-archive/" 
              >Posts</a>
          </li><li class="masthead__menu-item">
            <a href="/blog/projects/" 
              >Projects</a>
          </li><li class="masthead__menu-item">
            <a href="/blog/collections/" 
              >Collections</a>
          </li><li class="masthead__menu-item">
            <a href="/blog/about/" 
              >About</a>
          </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        

        
        <button class="theme-toggle-btn" onclick="switchTheme()">
          <i class="fas fa-moon"></i>
        </button>
        

        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/blog/" itemprop="item"><span itemprop="name">Home</span></a>

          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/blog/categories/#emacs" itemprop="item"><span itemprop="name">Emacs</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Handling Invalid US-ASCII Character Errors in Jekyll</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Handling Invalid US-ASCII Character Errors in Jekyll">
    <meta itemprop="description" content="When working with Jekyll, a static site generator commonly used for blogs and documentation, you may encounter errors related to character encoding, particularly the “Invalid US-ASCII character” error. This can happen when Jekyll tries to process files that contain characters not supported by the default US-ASCII encoding. Here’s a detailed look at this error and how to resolve it.">
    <meta itemprop="datePublished" content="2024-06-17T00:00:00+00:00">
    <meta itemprop="dateModified" content="2024-06-17T00:00:00+00:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://josephtesfaye.com/blog/emacs/handling-invalid-us-ascii-character-errors-in-jekyll/" itemprop="url">Handling Invalid US-ASCII Character Errors in Jekyll
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2024-06-17T00:00:00+00:00">June 17, 2024</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>When working with Jekyll, a static site generator commonly used for blogs and documentation, you may encounter errors related to character encoding, particularly the “Invalid US-ASCII character” error. This can happen when Jekyll tries to process files that contain characters not supported by the default US-ASCII encoding. Here’s a detailed look at this error and how to resolve it.</p>

<h2 id="understanding-the-error">Understanding the Error</h2>

<p>The error message typically looks like this:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Invalid US-ASCII character <span class="s2">"</span><span class="se">\x</span><span class="s2">E2"</span> on line 54
jekyll 3.9.5 | Error:  Invalid US-ASCII character <span class="s2">"</span><span class="se">\x</span><span class="s2">E2"</span> on line 54
/Users/yourusername/.gem/ruby/3.1.3/gems/jekyll-sass-converter-1.5.2/lib/jekyll/converters/scss.rb:123:in <span class="sb">`</span>rescue <span class="k">in </span>convert<span class="s1">': Invalid US-ASCII character "\\xE2" on line 54 (Jekyll::Converters::Scss::SyntaxError)
</span></code></pre></div></div>

<p>This error indicates that Jekyll encountered a character (<code class="language-plaintext highlighter-rouge">"\xE2"</code>, which is <code class="language-plaintext highlighter-rouge">â</code> in UTF-8) that is not part of the US-ASCII character set while processing your SCSS files.</p>

<h2 id="reproducing-the-error">Reproducing the Error</h2>

<p>While this error can occur in various environments, let’s consider a scenario where it happens in Emacs’s <code class="language-plaintext highlighter-rouge">eshell</code>, while the same command runs without issue in a standard terminal like zsh.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/projects/josephs-blog <span class="nv">$ </span>bundle <span class="nb">exec </span>jekyll serve <span class="nt">-P</span> 4001
</code></pre></div></div>

<h4 id="why-this-happens">Why This Happens</h4>

<p>The default character encoding in <code class="language-plaintext highlighter-rouge">eshell</code> might be set to US-ASCII, which cannot handle characters beyond the standard ASCII set. This is why characters like <code class="language-plaintext highlighter-rouge">â</code> (<code class="language-plaintext highlighter-rouge">"\xE2"</code>) cause problems.</p>

<h4 id="solution">Solution</h4>

<p>To fix this error, you need to ensure that your environment uses UTF-8 encoding. Here’s how you can do it in both zsh and eshell.</p>

<h5 id="1-setting-encoding-in-zsh">1. Setting Encoding in zsh</h5>

<p>Add the following lines to your <code class="language-plaintext highlighter-rouge">~/.zshrc</code> file:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8
<span class="nb">export </span><span class="nv">LC_ALL</span><span class="o">=</span>en_US.UTF-8
</code></pre></div></div>

<h5 id="2-setting-encoding-in-emacs-eshell">2. Setting Encoding in Emacs eshell</h5>

<p>Add the following to your Emacs configuration file (<code class="language-plaintext highlighter-rouge">~/.spacemacs</code> or <code class="language-plaintext highlighter-rouge">~/.spacemacs.d/init.el</code>):</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">dotspacemacs/user-config</span> <span class="p">()</span>
  <span class="c1">;; other configurations...</span>

  <span class="c1">;; Set UTF-8 as the default encoding for eshell</span>
  <span class="p">(</span><span class="nv">setenv</span> <span class="s">"LANG"</span> <span class="s">"en_US.UTF-8"</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">setenv</span> <span class="s">"LC_ALL"</span> <span class="s">"en_US.UTF-8"</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<p>Reload your Emacs configuration by restarting Emacs or using <code class="language-plaintext highlighter-rouge">SPC f e R</code>.</p>

<h4 id="ensuring-utf-8-in-your-files">Ensuring UTF-8 in Your Files</h4>

<p>Make sure your files are saved with UTF-8 encoding. In most text editors, you can specify the encoding when saving a file. For Emacs users, you can add the following at the top of your SCSS file:</p>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// -*- coding: utf-8 -*-</span>
</code></pre></div></div>

<p>This line tells Emacs to interpret the file as UTF-8.</p>

<h4 id="conclusion">Conclusion</h4>

<p>Handling character encoding issues can be tricky, but by ensuring that your environment consistently uses UTF-8, you can avoid errors related to unsupported characters. Whether you’re using zsh, eshell, or any other terminal emulator, setting the correct encoding is crucial for smooth operation with Jekyll and other tools.</p>

<p>By following the steps outlined above, you should be able to resolve the “Invalid US-ASCII character” error and continue developing your Jekyll site without further issues. Happy coding!</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/blog/tags/#eshell" class="page__taxonomy-item p-category" rel="tag">Eshell</a><span class="sep">, </span>
    
      <a href="/blog/tags/#spacemacs" class="page__taxonomy-item p-category" rel="tag">Spacemacs</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/blog/categories/#emacs" class="page__taxonomy-item p-category" rel="tag">Emacs</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2024-06-17">June 17, 2024</time></p>

      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Handling+Invalid+US-ASCII+Character+Errors+in+Jekyll%20https%3A%2F%2Fjosephtesfaye.com%2Fblog%2Femacs%2Fhandling-invalid-us-ascii-character-errors-in-jekyll%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fjosephtesfaye.com%2Fblog%2Femacs%2Fhandling-invalid-us-ascii-character-errors-in-jekyll%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://josephtesfaye.com/blog/emacs/handling-invalid-us-ascii-character-errors-in-jekyll/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/blog/astronomy/nasa/" class="pagination--pager" title="Eyes on the Solar System
">Previous</a>
    
    
      <a href="/blog/english/coca-cola/" class="pagination--pager" title="From Coca-Cola to Erythroxylaceae: A Quick Guide to the Morphology of Scientific Nomenclature
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comments</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You May Also Enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/web/private-posts/" rel="permalink">Enabling Private Posts
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-02-23T00:00:00+00:00">February 23, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          19 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I want to be able to make a post private, that is, it can only be seen by me, or
  someone with a password, and not by any other person, any search engine, a...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/web/enable-org-mode/" rel="permalink">Enabling drafting in Org Mode in Minimal Mistakes
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-02-23T00:00:00+00:00">February 23, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">From now on I will be able to write posts in Org Mode for this blog, besides the
  existing Markdown method. Here’s how I configure it. This article is writt...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/web/custom-gallery/" rel="permalink">Customizing Gallery in Minimal Mistakes
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-02-20T00:00:00+00:00">February 20, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Here are the customizations I’ve made to the
gallery
feature of Minimal Mistakes:

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/web/local-images/" rel="permalink">Loading Local Images in Minimal Mistakes
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-02-19T00:00:00+00:00">February 19, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I want to be able to load local images when the site is served locally. However,
the URL format file:///Users/&lt;username&gt;/archive/image/20260218184820.p...</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://josephtesfaye.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-home" aria-hidden="true"></i> Home</a></li>
        
      
        
          <li><a href="https://www.instagram.com/orcharinth" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="https://github.com/josephtesfaye" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/blog/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2026
  <a href="/josephs-blog/about/">
    Joseph Huang
  </a>. Built with Love ♥ ♪ ♫ ♬
</div>

      </footer>
    </div>

    
  <script src="/blog/assets/js/main.min.js"></script>




<script src="/blog/assets/js/lunr/lunr.min.js"></script>
<script src="/blog/assets/js/lunr/lunr-store.js"></script>
<script src="/blog/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9GESMRQ2DV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9GESMRQ2DV', { 'anonymize_ip': false});
</script>






    
  <script>
    var disqus_config = function () {
      this.page.url = "https://josephtesfaye.com/blog/emacs/handling-invalid-us-ascii-character-errors-in-jekyll/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/emacs/handling-invalid-us-ascii-character-errors-in-jekyll"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://josephsblog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  




  </body>
</html>
